{"version":3,"file":"commonHelpers.js","sources":["../src/js/gallery.js","../src/js/animation-gallery.js","../src/main.js"],"sourcesContent":["import Swiper from 'swiper';\nimport { Navigation, Keyboard, Mousewheel } from 'swiper/modules';\n// import Swiper and modules styles\nimport 'swiper/css';\nimport 'swiper/css/navigation';\n\nconst swiper = new Swiper('.swiper', {\n  modules: [Navigation, Mousewheel, Keyboard],\n  updateOnWindowResize: true,\n  spaceBetween: 20,\n  mousewheel: {\n    invert: false,\n  },\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n  navigation: {\n    prevEl: '.swiper-button-prev',\n    nextEl: '.swiper-button-next',\n    preventClicks: false,\n  },\n  breakpoints: {\n    320: {\n      slidesPerView: 1,\n      spaceBetween: 10,\n    },\n\n    1200: {\n      slidesPerView: 3,\n      spaceBetween: 10,\n    },\n  },\n});\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Tab') {\n    event.preventDefault();\n    if (event.shiftKey) {\n      swiper.slidePrev();\n    } else {\n      swiper.slideNext();\n    }\n  }\n});\n\n","// ****************************************Animation\ndocument.addEventListener('DOMContentLoaded', function () {\n  // Выбираем секцию с галереей\n  const gallerySection = document.querySelector('.gallery-section');\n\n  // Выбираем все слайды\n  const slides = document.querySelectorAll('.swiper-slide');\n\n  // Настраиваем Observer\n  const options = {\n    root: null, // Используем viewport как область видимости\n    threshold: 0.5, // Запуск анимации, когда 30% секции видны\n  };\n\n  const observer = new IntersectionObserver(entries => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        // Добавляем классы с анимацией к каждому слайду\n        slides.forEach((slide, index) => {\n          // Проверяем, добавлена ли уже анимация\n          if (!slide.classList.contains('animated')) {\n            // Применяем анимацию по порядку, если это нужно\n            if (index % 3 === 0) {\n              slide.classList.add('tilt-in-fwd-left');\n            } else if (index % 3 === 1) {\n              slide.classList.add('tilt-in-fwd-top');\n            } else if (index % 3 === 2) {\n              slide.classList.add('tilt-in-fwd-right');\n            }\n            // Убираем opacity, чтобы сделать слайд видимым\n            slide.style.opacity = '1';\n            // Добавляем класс, чтобы не применять анимацию повторно\n            slide.classList.add('animated');\n          }\n        });\n        // Убираем наблюдение после активации анимации\n        observer.unobserve(gallerySection);\n      }\n    });\n  }, options);\n\n  // Начинаем наблюдение за секцией галереи\n  observer.observe(gallerySection);\n});\n","import \"./js/gallery.js\";\nimport \"./js/animation-gallery.js\";\n\nconst modalControllerBtn = document.getElementById('toggleBtn');\nconst toggleController = document.getElementById('toggleModal');\nconst closeBtnController = document.getElementById('closeBtn'); // ID без точки\nconst homeLink = document.getElementById('homeLink');\nconst featureLink = document.getElementById('featureLink');\nconst aboutLink = document.getElementById('aboutLink');\nconst galleryLink = document.getElementById('galleryLink');\nconst userLink = document.getElementById('userLink');\n\n// Универсальная функция-обработчик\nconst handleClick = (event) => {\n\tconsole.log(event.currentTarget);  // Показываем, какая кнопка вызвала событие\n\n\t// Переключаем класс у модального окна\n\ttoggleController.classList.toggle(\"is-active\");\n};\n\n// Добавляем обработчики на кнопки\nmodalControllerBtn.addEventListener(\"click\", handleClick);\ncloseBtnController.addEventListener(\"click\", handleClick); // Закрытие через другую кнопку\nhomeLink.addEventListener(\"click\", handleClick);\nfeatureLink.addEventListener(\"click\", handleClick);\naboutLink.addEventListener(\"click\", handleClick);\ngalleryLink.addEventListener(\"click\", handleClick);\nuserLink.addEventListener(\"click\", handleClick);\n\n\n// -------------------------------\n\nconst sliderWrapper = document.querySelector('.slider-wrapper');\nconst slides = document.querySelectorAll('.slide');\nconst nextBtn = document.querySelector('.next');\nconst prevBtn = document.querySelector('.prev');\nconst paginationNumbers = document.querySelectorAll('.pagination-number');\n\nlet currentIndex = 0;\nconst totalSlides = slides.length;\n\n// Клонируем первый и последний слайды\nconst firstSlideClone = slides[0].cloneNode(true);\nconst lastSlideClone = slides[totalSlides - 1].cloneNode(true);\n\n// Добавляем их в DOM\nsliderWrapper.appendChild(firstSlideClone);\nsliderWrapper.insertBefore(lastSlideClone, slides[0]);\n\n// Обновляем количество слайдов после клонирования\nconst allSlides = document.querySelectorAll('.slide');\nconst totalAllSlides = allSlides.length;\n\n// Устанавливаем слайдер на первый реальный слайд\nsliderWrapper.style.transform = `translateX(-${100}%)`;\n\n// Функция для обновления позиции слайдера\nfunction updateSliderPosition() {\n\tconst sliderWidth = document.querySelector('.slider-container').clientWidth;\n\tsliderWrapper.style.transition = 'transform 0.4s ease-in-out';\n\tsliderWrapper.style.transform = `translateX(-${(currentIndex + 1) * sliderWidth}px)`;\n\n\t// Если текущий индекс — последний слайд (клонированный первый), после анимации мгновенно переходим к первому реальному слайду\n\tif (currentIndex === totalSlides) {\n\t\tsetTimeout(() => {\n\t\t\tsliderWrapper.style.transition = 'none';\n\t\t\tcurrentIndex = 0;\n\t\t\tsliderWrapper.style.transform = `translateX(-${sliderWidth}px)`;\n\t\t}, 400);\n\t}\n\n\t// Если текущий индекс — первый слайд (клонированный последний), после анимации мгновенно переходим к последнему реальному слайду\n\tif (currentIndex === -1) {\n\t\tsetTimeout(() => {\n\t\t\tsliderWrapper.style.transition = 'none';\n\t\t\tcurrentIndex = totalSlides - 1;\n\t\t\tsliderWrapper.style.transform = `translateX(-${totalSlides * sliderWidth}px)`;\n\t\t}, 400);\n\t}\n\n\tupdateActivePagination();\n}\n\nnextBtn.addEventListener('click', () => {\n\tif (currentIndex < totalSlides - 1) {\n\t\tcurrentIndex++;\n\t} else {\n\t\tcurrentIndex = 0;  // Цикл назад на перший слайд\n\t}\n\tupdateSliderPosition();\n});\n\n// Event listener for previous button\nprevBtn.addEventListener('click', () => {\n\tif (currentIndex > 0) {\n\t\tcurrentIndex--;\n\t} else {\n\t\tcurrentIndex = totalSlides - 1;  // Цикл вперед на останній слайд\n\t}\n\tupdateSliderPosition();\n});\n\n// Обновляем активный элемент пагинации\nfunction updateActivePagination() {\n\tpaginationNumbers.forEach(paginationNumber => paginationNumber.classList.remove('active'));\n\tlet activeIndex = currentIndex === totalSlides ? 0 : currentIndex;\n\tpaginationNumbers[activeIndex].classList.add('active');\n}\n\n// Добавляем обработчики событий для пагинации\npaginationNumbers.forEach((paginationNumber, index) => {\n\tpaginationNumber.addEventListener('click', () => {\n\t\tcurrentIndex = index;\n\t\tupdateSliderPosition();\n\t});\n});\n\n// Swipe functionality for mobile devices\nlet startX = 0;\n\nsliderWrapper.addEventListener('touchstart', (e) => {\n\tstartX = e.touches[0].clientX;\n});\n\nsliderWrapper.addEventListener('touchend', (e) => {\n\tconst endX = e.changedTouches[0].clientX;\n\tif (startX > endX + 50) {\n\t\t// Свайп влево (на следующий слайд)\n\t\tcurrentIndex++;\n\t} else if (startX < endX - 50) {\n\t\t// Свайп вправо (на предыдущий слайд)\n\t\tcurrentIndex--;\n\t}\n\tupdateSliderPosition();\n});\n\n// Инициализируем первый элемент пагинации как активный\nupdateActivePagination();\n"],"names":["swiper","Swiper","Navigation","Mousewheel","Keyboard","event","gallerySection","slides","options","observer","entries","entry","slide","index","modalControllerBtn","toggleController","closeBtnController","homeLink","featureLink","aboutLink","galleryLink","userLink","handleClick","sliderWrapper","nextBtn","prevBtn","paginationNumbers","currentIndex","totalSlides","firstSlideClone","lastSlideClone","allSlides","updateSliderPosition","sliderWidth","updateActivePagination","paginationNumber","startX","endX"],"mappings":"+yBAMA,MAAMA,EAAS,IAAIC,EAAO,UAAW,CACnC,QAAS,CAACC,EAAYC,EAAYC,CAAQ,EAC1C,qBAAsB,GACtB,aAAc,GACd,WAAY,CACV,OAAQ,EACT,EACD,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,EACD,WAAY,CACV,OAAQ,sBACR,OAAQ,sBACR,cAAe,EAChB,EACD,YAAa,CACX,IAAK,CACH,cAAe,EACf,aAAc,EACf,EAED,KAAM,CACJ,cAAe,EACf,aAAc,EACf,CACF,CACH,CAAC,EACD,SAAS,iBAAiB,UAAW,SAAUC,EAAO,CAChDA,EAAM,MAAQ,QAChBA,EAAM,eAAc,EAChBA,EAAM,SACRL,EAAO,UAAS,EAEhBA,EAAO,UAAS,EAGtB,CAAC,EC1CD,SAAS,iBAAiB,mBAAoB,UAAY,CAExD,MAAMM,EAAiB,SAAS,cAAc,kBAAkB,EAG1DC,EAAS,SAAS,iBAAiB,eAAe,EAGlDC,EAAU,CACd,KAAM,KACN,UAAW,EACf,EAEQC,EAAW,IAAI,qBAAqBC,GAAW,CACnDA,EAAQ,QAAQC,GAAS,CACnBA,EAAM,iBAERJ,EAAO,QAAQ,CAACK,EAAOC,IAAU,CAE1BD,EAAM,UAAU,SAAS,UAAU,IAElCC,EAAQ,IAAM,EAChBD,EAAM,UAAU,IAAI,kBAAkB,EAC7BC,EAAQ,IAAM,EACvBD,EAAM,UAAU,IAAI,iBAAiB,EAC5BC,EAAQ,IAAM,GACvBD,EAAM,UAAU,IAAI,mBAAmB,EAGzCA,EAAM,MAAM,QAAU,IAEtBA,EAAM,UAAU,IAAI,UAAU,EAE1C,CAAS,EAEDH,EAAS,UAAUH,CAAc,EAEzC,CAAK,CACF,EAAEE,CAAO,EAGVC,EAAS,QAAQH,CAAc,CACjC,CAAC,ECxCD,MAAMQ,EAAqB,SAAS,eAAe,WAAW,EACxDC,EAAmB,SAAS,eAAe,aAAa,EACxDC,EAAqB,SAAS,eAAe,UAAU,EACvDC,EAAW,SAAS,eAAe,UAAU,EAC7CC,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAY,SAAS,eAAe,WAAW,EAC/CC,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAW,SAAS,eAAe,UAAU,EAG7CC,EAAejB,GAAU,CAC9B,QAAQ,IAAIA,EAAM,aAAa,EAG/BU,EAAiB,UAAU,OAAO,WAAW,CAC9C,EAGAD,EAAmB,iBAAiB,QAASQ,CAAW,EACxDN,EAAmB,iBAAiB,QAASM,CAAW,EACxDL,EAAS,iBAAiB,QAASK,CAAW,EAC9CJ,EAAY,iBAAiB,QAASI,CAAW,EACjDH,EAAU,iBAAiB,QAASG,CAAW,EAC/CF,EAAY,iBAAiB,QAASE,CAAW,EACjDD,EAAS,iBAAiB,QAASC,CAAW,EAK9C,MAAMC,EAAgB,SAAS,cAAc,iBAAiB,EACxDhB,EAAS,SAAS,iBAAiB,QAAQ,EAC3CiB,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAoB,SAAS,iBAAiB,oBAAoB,EAExE,IAAIC,EAAe,EACnB,MAAMC,EAAcrB,EAAO,OAGrBsB,EAAkBtB,EAAO,CAAC,EAAE,UAAU,EAAI,EAC1CuB,EAAiBvB,EAAOqB,EAAc,CAAC,EAAE,UAAU,EAAI,EAG7DL,EAAc,YAAYM,CAAe,EACzCN,EAAc,aAAaO,EAAgBvB,EAAO,CAAC,CAAC,EAGpD,MAAMwB,EAAY,SAAS,iBAAiB,QAAQ,EAC7BA,EAAU,OAGjCR,EAAc,MAAM,UAAY,oBAGhC,SAASS,GAAuB,CAC/B,MAAMC,EAAc,SAAS,cAAc,mBAAmB,EAAE,YAChEV,EAAc,MAAM,WAAa,6BACjCA,EAAc,MAAM,UAAY,gBAAgBI,EAAe,GAAKM,CAAW,MAG3EN,IAAiBC,GACpB,WAAW,IAAM,CAChBL,EAAc,MAAM,WAAa,OACjCI,EAAe,EACfJ,EAAc,MAAM,UAAY,eAAeU,CAAW,KAC1D,EAAE,GAAG,EAIHN,IAAiB,IACpB,WAAW,IAAM,CAChBJ,EAAc,MAAM,WAAa,OACjCI,EAAeC,EAAc,EAC7BL,EAAc,MAAM,UAAY,eAAeK,EAAcK,CAAW,KACxE,EAAE,GAAG,EAGPC,GACD,CAEAV,EAAQ,iBAAiB,QAAS,IAAM,CACnCG,EAAeC,EAAc,EAChCD,IAEAA,EAAe,EAEhBK,GACD,CAAC,EAGDP,EAAQ,iBAAiB,QAAS,IAAM,CACnCE,EAAe,EAClBA,IAEAA,EAAeC,EAAc,EAE9BI,GACD,CAAC,EAGD,SAASE,GAAyB,CACjCR,EAAkB,QAAQS,GAAoBA,EAAiB,UAAU,OAAO,QAAQ,CAAC,EAEzFT,EADkBC,IAAiBC,EAAc,EAAID,CACxB,EAAE,UAAU,IAAI,QAAQ,CACtD,CAGAD,EAAkB,QAAQ,CAACS,EAAkBtB,IAAU,CACtDsB,EAAiB,iBAAiB,QAAS,IAAM,CAChDR,EAAed,EACfmB,GACF,CAAE,CACF,CAAC,EAGD,IAAII,EAAS,EAEbb,EAAc,iBAAiB,aAAe,GAAM,CACnDa,EAAS,EAAE,QAAQ,CAAC,EAAE,OACvB,CAAC,EAEDb,EAAc,iBAAiB,WAAa,GAAM,CACjD,MAAMc,EAAO,EAAE,eAAe,CAAC,EAAE,QAC7BD,EAASC,EAAO,GAEnBV,IACUS,EAASC,EAAO,IAE1BV,IAEDK,GACD,CAAC,EAGDE,EAAwB"}